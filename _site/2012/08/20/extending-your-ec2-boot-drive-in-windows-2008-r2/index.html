<!DOCTYPE html>
<html lang="en">
<!-- Beautiful Jekyll 6.0.1 | Copyright Dean Attali 2023 -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Extending your EC2 boot drive in Windows 2008 R2</title>

  
  <meta name="author" content="Aaron Lord">
  

  <meta name="description" content="When you set up a new instance in the cloud on Amazon’s EC2 service, if you use the standard snapshots for Windows 2008 R2 hosting with SQL Server, you will find that your C: drive is much smaller than you expected it to be. Basically, you’re maxed out at capacity...">

  

  

  

  

  

  

  


  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  
  
  

  

  
  <meta property="og:site_name" content="I must follow, if I can">
  <meta property="og:title" content="Extending your EC2 boot drive in Windows 2008 R2">
  <meta property="og:description" content="When you set up a new instance in the cloud on Amazon’s EC2 service, if you use the standard snapshots for Windows 2008 R2 hosting with SQL Server, you will find that your C: drive is much smaller than you expected it to be. Basically, you’re maxed out at capacity...">

  
  <meta property="og:image" content="http://localhost:4000/assets/img/avatar.jpeg">
  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="Aaron Lord">
  <meta property="og:article:published_time" content="2012-08-20T11:46:44-07:00">
  <meta property="og:url" content="http://localhost:4000/2012/08/20/extending-your-ec2-boot-drive-in-windows-2008-r2/">
  <link rel="canonical" href="http://localhost:4000/2012/08/20/extending-your-ec2-boot-drive-in-windows-2008-r2/">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@">
  <meta name="twitter:creator" content="@">

  <meta property="twitter:title" content="Extending your EC2 boot drive in Windows 2008 R2">
  <meta property="twitter:description" content="When you set up a new instance in the cloud on Amazon’s EC2 service, if you use the standard snapshots for Windows 2008 R2 hosting with SQL Server, you will find that your C: drive is much smaller than you expected it to be. Basically, you’re maxed out at capacity...">

  
  <meta name="twitter:image" content="http://localhost:4000/assets/img/avatar.jpeg">
  

  


  

  

</head>


<body>

  


  <nav class="navbar navbar-expand-xl navbar-light fixed-top navbar-custom top-nav-regular"><a class="navbar-brand" href="http://localhost:4000/">I must follow, if I can</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/about">About Me</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/resume">Resume</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://devlord.io">Website</a>
          </li></ul>
  </div>

  

  
    <div class="avatar-container">
      <div class="avatar-img-border">
        <a href="http://localhost:4000/">
          <img alt="Navigation bar avatar" class="avatar-img" src="/assets/img/avatar.jpeg" />
        </a>
      </div>
    </div>
  

</nav>





  <!-- TODO this file has become a mess, refactor it -->







<header class="header-section ">

<div class="intro-header no-img">
  <div class="container-md">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
        <div class="post-heading">
          <h1>Extending your EC2 boot drive in Windows 2008 R2</h1>
          

          
            <span class="post-meta">Posted on August 20, 2012</span>
            
            
          
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class=" container-md ">
  <div class="row">
    <div class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 ">

      

      

      <article role="main" class="blog-post">
        <p>When you set up a new instance in the cloud <a href="http://mustfollow.wordpress.com/2012/07/09/visual-studio-in-the-cloudcod/">on Amazon’s EC2 service</a>, if you use the standard snapshots for Windows 2008 R2 hosting with SQL Server, you will find that your C: drive is much smaller than you expected it to be. Basically, you’re maxed out at capacity as soon as you upgrade Visual Studio. A few times a day you’ll receive notifications in the system tray about how the drive is running out of disk space. My first attempt to solve this problem involved attaching an EBS volume as a D: drive, and using that for all of my downloads and SVN working copies. But even when I tried to uninstall some of the default applications (e.g. the C++ 2008 runtime, which I have no use for), I found that it didn’t keep the drive from filling up. So I decided it was time to take a snapshot of the current state of my machine and see what I could do to grow that volume.</p>

<p>Fortunately, <a href="http://barriquesoft.com/?p=19">Sean Sullivan</a> has published an easy-to-follow outline of the steps…</p>

<p><strong>Update:</strong> I happened to need to perform these steps again for a client, and the link above was not working. Basically you have to make a snapshot of the volume attached to your instance and use that to seed a new volume with a higher allocation, but then when you attach the new volume, the system still thinks it’s smaller so you have to extend it. Here are the steps:</p>
<ol>
	<li>Select your instance, go to the description tab and click on the volume link. It will tell you the volume ID.</li>
	<li>Stop your instance.</li>
	<li>Go find the volume in the Volumes tab and create a new snapshot, with a memorable name. (Pick something specific for the <em>description</em>. The drop-down where you will select this later will only show you the ID and description--not the name.) It will take a while. Use the <strong>refresh</strong> button in the Amazon web console to check your progress.</li>
	<li>Using the snapshot as the seed, create a new volume with a bigger size in the same availability zone as your instance. I think the actual volume size portion of the EC2 hosting fees is tiny, around $1/mo. for 10GB with 100% uptime.</li>
	<li>Select the original volume and detach it from your instance</li>
	<li>Attach your new larger volume to your instance as <code>/dev/sda1</code> (in the field where it says <code>xvdf</code>)</li>
	<li>Start your instance back up and RDP into it, then and go into Disk Management to extend your C: drive to its full capacity. (Remember to re-assign your Elastic IP if you are using one.)</li>
</ol>
<p>[caption id=”attachment_1688” align=”alignnone” width=”584”]<a href="/assets/img/2012/08/ec2-increase.png"><img class="size-full wp-image-1688" title="ec2-increase" alt="" src="/assets/img/2012/08/ec2-increase.png" width="584" height="364" /></a> Using Sean’s method, I was successfully able to increase my C: drive capacity from 35 GB to 100 GB.[/caption]</p>

<p>And now I have a 100-GB C: drive on my cloud development machine!</p>

      </article>

      
        <div class="blog-tags">
          <span>Tags:</span>
          
            <a href="/tags#amazon-ec2">amazon-ec2</a>
          
            <a href="/tags#asp.net">asp.net</a>
          
            <a href="/tags#freelancing">freelancing</a>
          
            <a href="/tags#windows">windows</a>
          
        </div>
      

      

      

      <ul class="pagination blog-pager">
        
        <li class="page-item previous">
          <a class="page-link" href="/2012/08/16/perks-of-self-employment/" data-toggle="tooltip" data-placement="top" title="Perks of self-employment">&larr; Previous Post</a>
        </li>
        
        
        <li class="page-item next">
          <a class="page-link" href="/2012/08/21/the-man-month-vs-the-human-narrative/" data-toggle="tooltip" data-placement="top" title="The Man-Month vs. the Human Narrative">Next Post &rarr;</a>
        </li>
        
      </ul>
      

    </div>
  </div>
</div>


  <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      <ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="https://github.com/lorddev" title="GitHub">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">GitHub</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://linkedin.com/in/aaronjlord" title="LinkedIn">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">LinkedIn</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://stackoverflow.com/users/16454/devlord" title="StackOverflow">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">StackOverflow</span>
   </a>
  </li><li class="list-inline-item">
    <a rel="me" href="https://hachyderm.io/@devlord" title="Mastodon">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-mastodon fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Mastodon</span>
    </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
        Aaron Lord
        &nbsp;&bull;&nbsp;
      
      2024

      
        &nbsp;&bull;&nbsp;
        <span class="author-site">
          <a href="http://localhost:4000/">devlord.io</a>
        </span>
      

      

      

      </p>
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>


  
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  









</body>
</html>
